<div class="row">
  <div class="col-lg-12">
    <div class="card">
      <form novalidate (ngSubmit)="doAdd(form)" [formGroup]="form">
        <div class="card-header">
          <button type="button" class="btn btn-outline-info btn-sm" (click)="reset()">重置</button>
          <button type="submit" class="btn btn-outline-info btn-sm"
                  [disabled]="form.invalid || selectedNodes.length===0">提交
          </button>
          <button type="button" class="btn btn-outline-info btn-sm" [routerLink]="['/base/role/list']">返回</button>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group row">
                <label class="col-md-2 form-control-label" for="code">角色编码</label>
                <div class="col-md-5">
                  <input type="text" id="code" name="code" class="form-control" placeholder="请输入角色编码"
                         formControlName="code">
                </div>
                <div class="alert-danger form-control col-md-5" role="alert"
                     [hidden]="form.get('code').valid || form.get('code').untouched">
                  <span [hidden]="!form.hasError('required','code')">角色编码必填</span>
                </div>
              </div>
              <div class="form-group row">
                <label class="col-md-2 form-control-label" for="name">角色名称</label>
                <div class="col-md-5">
                  <input type="text" id="name" name="name" class="form-control" placeholder="请输入角色名称"
                         formControlName="name">
                </div>
                <div class="alert-danger form-control col-md-5" role="alert"
                     [hidden]="form.get('name').valid || form.get('name').untouched">
                  <span [hidden]="!form.hasError('required','name')">角色名称必填</span>
                </div>
              </div>
              <div class="form-group row">
                <label class="col-md-2 form-control-label" for="remark">描述</label>
                <div class="col-md-5">
                  <input type="text" id="remark" name="remark" class="form-control" placeholder="请输入角色描述"
                         formControlName="remark">
                </div>
              </div>

              <div class="form-group row">
                <label class="col-md-2 form-control-label" for="input-small">菜单</label>
                <div class="col-md-5">
                  <app-menu-tree
                    [(selectedNodes)]="selectedNodes"
                  ></app-menu-tree>
                </div>
                <div class="alert-danger col-md-5" role="alert" style="height:35px;line-height: 35px;"
                     [hidden]="selectedNodes.length>0|| form.get('name').untouched">
                  <span>菜单必填</span>
                </div>
              </div>
            </div>
          </div>
        </div>

      </form>

    </div>
  </div>
</div>
